package com.ppsea.ds.data.model;

import java.util.HashMap;
import java.util.Map;
import java.util.Random;

import com.ppsea.ds.data.BaseObject;

public class ActiveItems extends BaseObject {

	/**
     * This field was generated by Apache iBATIS ibator. This field corresponds to the database column active_items.id
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    private Integer id;

	/**
     * This field was generated by Apache iBATIS ibator. This field corresponds to the database column active_items.type
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    private Integer type;

	/**
     * This field was generated by Apache iBATIS ibator. This field corresponds to the database column active_items.item_id
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    private Integer itemId;

	/**
     * This field was generated by Apache iBATIS ibator. This field corresponds to the database column active_items.item_amount
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    private Integer itemAmount;

	/**
     * This field was generated by Apache iBATIS ibator. This field corresponds to the database column active_items.contents
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    private String contents;

	/**
     * This field was generated by Apache iBATIS ibator. This field corresponds to the database column active_items.copper
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    private Integer copper;

	/**
     * This field was generated by Apache iBATIS ibator. This field corresponds to the database column active_items.gold
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    private Integer gold;

	/**
     * This field was generated by Apache iBATIS ibator. This field corresponds to the database column active_items.descriptiions
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    private String descriptiions;

	/**
     * This method was generated by Apache iBATIS ibator. This method returns the value of the database column active_items.id
     * @return  the value of active_items.id
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public Integer getId() {
	    return id;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method sets the value of the database column active_items.id
     * @param id  the value for active_items.id
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public void setId(Integer id) {
	    this.id = id;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method returns the value of the database column active_items.type
     * @return  the value of active_items.type
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public Integer getType() {
	    return type;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method sets the value of the database column active_items.type
     * @param type  the value for active_items.type
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public void setType(Integer type) {
	    this.type = type;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method returns the value of the database column active_items.item_id
     * @return  the value of active_items.item_id
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public Integer getItemId() {
	    return itemId;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method sets the value of the database column active_items.item_id
     * @param itemId  the value for active_items.item_id
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public void setItemId(Integer itemId) {
	    this.itemId = itemId;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method returns the value of the database column active_items.item_amount
     * @return  the value of active_items.item_amount
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public Integer getItemAmount() {
	    return itemAmount;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method sets the value of the database column active_items.item_amount
     * @param itemAmount  the value for active_items.item_amount
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public void setItemAmount(Integer itemAmount) {
	    this.itemAmount = itemAmount;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method returns the value of the database column active_items.contents
     * @return  the value of active_items.contents
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public String getContents() {
	    return contents;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method sets the value of the database column active_items.contents
     * @param contents  the value for active_items.contents
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public void setContents(String contents) {
	    this.contents = contents;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method returns the value of the database column active_items.copper
     * @return  the value of active_items.copper
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public Integer getCopper() {
	    return copper;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method sets the value of the database column active_items.copper
     * @param copper  the value for active_items.copper
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public void setCopper(Integer copper) {
	    this.copper = copper;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method returns the value of the database column active_items.gold
     * @return  the value of active_items.gold
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public Integer getGold() {
	    return gold;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method sets the value of the database column active_items.gold
     * @param gold  the value for active_items.gold
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public void setGold(Integer gold) {
	    this.gold = gold;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method returns the value of the database column active_items.descriptiions
     * @return  the value of active_items.descriptiions
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public String getDescriptiions() {
	    return descriptiions;
    }

	/**
     * This method was generated by Apache iBATIS ibator. This method sets the value of the database column active_items.descriptiions
     * @param descriptiions  the value for active_items.descriptiions
     * @ibatorgenerated  Fri Apr 22 13:56:54 CST 2011
     */
    public void setDescriptiions(String descriptiions) {
	    this.descriptiions = descriptiions;
    }



	/** item_id:amount*/
	private Map<Integer, Integer> itemMaps = new HashMap<Integer, Integer>();
	
	/** probability items. */
	private int[][] itemarry ;

	/**
     * @return the itemMaps
     */
    public Map<Integer, Integer> getItemMaps() {
    	return itemMaps;
    }

	/**
     * @param itemMaps the itemMaps to set
     */
    public void setItemMaps(Map<Integer, Integer> itemMaps) {
    	this.itemMaps = itemMaps;
    }
    
    public void parseActiveItems() {
		String content = this.getContents();
		if (content == null) {
			return;
		}
		String[] strArray = content.split("[|]");
		for (String str : strArray) {
			String[] val = str.split("[+]");
			this.getItemMaps().put(Integer.parseInt(val[0]), Integer.parseInt(val[1]));
		}
	}
    
    public void parseActiveProbabilityItems() {
		String content = this.getContents();
		if (content == null) {
			return;
		}
		this.itemarry = new int[100][2];
		
		String[] strArray = content.split("[|]");
		int index = 0;
		for (String str : strArray) {
			String[] val = str.split("[+]");
			int itemId = Integer.parseInt(val[0]);
			int amount = Integer.parseInt(val[1]);
			int probability = Integer.parseInt(val[2]);
			for (int pos = 0; pos < probability; pos ++) {
				this.itemarry[index][0]= itemId;
				this.itemarry[index][1] = amount;
				index++;
			}
		}
	}
    
    
    
    public int[] getProbabilityItem() {
    	int[] itemId = {};
    	if (itemarry == null || itemarry.length == 0) {
    		return itemId;
    	}
    	Random rand = new Random();
    	int pos = rand.nextInt(itemarry.length);
    	itemId = itemarry[pos];
    	return itemId;
    }
}