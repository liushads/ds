package com.ppsea.ds.data.model;

import com.ppsea.ds.data.BaseObject;

public class PlayerMission extends BaseObject {
    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private Integer id;

    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.player_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private Integer playerId;

    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.mission_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private Integer missionId;

    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.complete
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private Boolean complete;

    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.canceled
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private Boolean canceled;

    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.start
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private Integer start;

    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.end
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private Integer end;

    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.times_be_done
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private Integer timesBeDone;

    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.npc_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private Integer npcId;

    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.city_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private Integer cityId;

    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.pre_player_mission_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private Integer prePlayerMissionId;

    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.facility_name
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private String facilityName;

    /**
     * This field was generated by Apache iBATIS ibator.
     * This field corresponds to the database column player_mission.condition_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    private Integer conditionId;

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.id
     *
     * @return the value of player_mission.id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public Integer getId() {
        return id;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.id
     *
     * @param id the value for player_mission.id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setId(Integer id) {
        this.id = id;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.player_id
     *
     * @return the value of player_mission.player_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public Integer getPlayerId() {
        return playerId;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.player_id
     *
     * @param playerId the value for player_mission.player_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setPlayerId(Integer playerId) {
        this.playerId = playerId;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.mission_id
     *
     * @return the value of player_mission.mission_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public Integer getMissionId() {
        return missionId;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.mission_id
     *
     * @param missionId the value for player_mission.mission_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setMissionId(Integer missionId) {
        this.missionId = missionId;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.complete
     *
     * @return the value of player_mission.complete
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public Boolean getComplete() {
        return complete;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.complete
     *
     * @param complete the value for player_mission.complete
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setComplete(Boolean complete) {
        this.complete = complete;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.canceled
     *
     * @return the value of player_mission.canceled
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public Boolean getCanceled() {
        return canceled;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.canceled
     *
     * @param canceled the value for player_mission.canceled
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setCanceled(Boolean canceled) {
        this.canceled = canceled;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.start
     *
     * @return the value of player_mission.start
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public Integer getStart() {
        return start;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.start
     *
     * @param start the value for player_mission.start
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setStart(Integer start) {
        this.start = start;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.end
     *
     * @return the value of player_mission.end
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public Integer getEnd() {
        return end;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.end
     *
     * @param end the value for player_mission.end
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setEnd(Integer end) {
        this.end = end;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.times_be_done
     *
     * @return the value of player_mission.times_be_done
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public Integer getTimesBeDone() {
        return timesBeDone;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.times_be_done
     *
     * @param timesBeDone the value for player_mission.times_be_done
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setTimesBeDone(Integer timesBeDone) {
        this.timesBeDone = timesBeDone;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.npc_id
     *
     * @return the value of player_mission.npc_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public Integer getNpcId() {
        return npcId;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.npc_id
     *
     * @param npcId the value for player_mission.npc_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setNpcId(Integer npcId) {
        this.npcId = npcId;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.city_id
     *
     * @return the value of player_mission.city_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public Integer getCityId() {
        return cityId;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.city_id
     *
     * @param cityId the value for player_mission.city_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setCityId(Integer cityId) {
        this.cityId = cityId;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.pre_player_mission_id
     *
     * @return the value of player_mission.pre_player_mission_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public Integer getPrePlayerMissionId() {
        return prePlayerMissionId;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.pre_player_mission_id
     *
     * @param prePlayerMissionId the value for player_mission.pre_player_mission_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setPrePlayerMissionId(Integer prePlayerMissionId) {
        this.prePlayerMissionId = prePlayerMissionId;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.facility_name
     *
     * @return the value of player_mission.facility_name
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public String getFacilityName() {
        return facilityName;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.facility_name
     *
     * @param facilityName the value for player_mission.facility_name
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setFacilityName(String facilityName) {
        this.facilityName = facilityName;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method returns the value of the database column player_mission.condition_id
     *
     * @return the value of player_mission.condition_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public Integer getConditionId() {
        return conditionId;
    }

    /**
     * This method was generated by Apache iBATIS ibator.
     * This method sets the value of the database column player_mission.condition_id
     *
     * @param conditionId the value for player_mission.condition_id
     *
     * @ibatorgenerated Fri May 28 13:21:21 CST 2010
     */
    public void setConditionId(Integer conditionId) {
        this.conditionId = conditionId;
    }
    
	private static final long serialVersionUID = 1L;
	
	public static final String TABLE_NAME = "player_mission";
	
	// Reference to mission template
	private Mission mission = null;
	
	// NPC that offer this mission
	private Npc npc = null;
	
	// City where get this mission
	private City city = null;
	
	private MissionCondition condition = null;
	
	// Previous player mission
	private PlayerMission prePlayerMission = null;
	
	public PlayerMission(){
		this.timesBeDone = 0;
		this.canceled = false;
		this.complete = false;
	}

	public void addTimes(){
		timesBeDone ++;
	}

	public boolean isComplete() {
		return complete;
	}

	public void setComplete(boolean complete) {
		this.complete = complete;
		
		// Only cascade update when complete is true
		if(complete && prePlayerMission != null && 
			(mission.getPreMissionState() == 0))
			this.prePlayerMission.setComplete(complete);
	}

	public Mission getMission() {
		return mission;
	}

	public void setMission(Mission mission) {
		this.mission = mission;
		
		this.missionId = mission.getId();
	}

	public PlayerMission getPrePlayerMission() {
		return prePlayerMission;
	}

	public void setPrePlayerMission(PlayerMission prePlayerMission) {
		this.prePlayerMission = prePlayerMission;
	}

	public Npc getNpc() {
		return npc;
	}

	public void setNpc(Npc npc) {
		this.npc = npc;
		
		this.npcId = npc.getId();
	}

	public City getCity() {
		return city;
	}

	public void setCity(City city) {
		this.city = city;
		
		this.cityId = city.getId();
	}

	public MissionCondition getCondition() {
		return condition;
	}

	public void setCondition(MissionCondition condition) {
		this.condition = condition;
	}

	public boolean isCanceled() {
		return canceled;
	}
	
	public boolean equals(Object o){
		return ((PlayerMission)o).getId() == id;
	}
}