package com.ppsea.ds.data.model;

import javax.script.ScriptException;

import org.apache.log4j.Logger;

import com.ppsea.ds.util.Util;

public class MissionWithBLOBs extends Mission {
	/**
	 * This field was generated by Abator for iBATIS. This field corresponds to the database column mission.condition_start
	 * @abatorgenerated  Sat Sep 19 15:32:15 CST 2009
	 */
	private String conditionStart;
	/**
	 * This field was generated by Abator for iBATIS. This field corresponds to the database column mission.condition_end
	 * @abatorgenerated  Sat Sep 19 15:32:15 CST 2009
	 */
	private String conditionEnd;
	/**
	 * This field was generated by Abator for iBATIS. This field corresponds to the database column mission.condition_ongoing
	 * @abatorgenerated  Sat Sep 19 15:32:15 CST 2009
	 */
	private String conditionOngoing;
	/**
	 * This method was generated by Abator for iBATIS. This method returns the value of the database column mission.condition_start
	 * @return  the value of mission.condition_start
	 * @abatorgenerated  Sat Sep 19 15:32:15 CST 2009
	 */
	public String getConditionStart() {
		return conditionStart;
	}
	/**
	 * This method was generated by Abator for iBATIS. This method sets the value of the database column mission.condition_start
	 * @param conditionStart  the value for mission.condition_start
	 * @abatorgenerated  Sat Sep 19 15:32:15 CST 2009
	 */
	public void setConditionStart(String conditionStart) {
		this.conditionStart = conditionStart;
	}
	/**
	 * This method was generated by Abator for iBATIS. This method returns the value of the database column mission.condition_end
	 * @return  the value of mission.condition_end
	 * @abatorgenerated  Sat Sep 19 15:32:15 CST 2009
	 */
	public String getConditionEnd() {
		return conditionEnd;
	}
	/**
	 * This method was generated by Abator for iBATIS. This method sets the value of the database column mission.condition_end
	 * @param conditionEnd  the value for mission.condition_end
	 * @abatorgenerated  Sat Sep 19 15:32:15 CST 2009
	 */
	public void setConditionEnd(String conditionEnd) {
		this.conditionEnd = conditionEnd;
	}
	/**
	 * This method was generated by Abator for iBATIS. This method returns the value of the database column mission.condition_ongoing
	 * @return  the value of mission.condition_ongoing
	 * @abatorgenerated  Sat Sep 19 15:32:15 CST 2009
	 */
	public String getConditionOngoing() {
		return conditionOngoing;
	}
	/**
	 * This method was generated by Abator for iBATIS. This method sets the value of the database column mission.condition_ongoing
	 * @param conditionOngoing  the value for mission.condition_ongoing
	 * @abatorgenerated  Sat Sep 19 15:32:15 CST 2009
	 */
	public void setConditionOngoing(String conditionOngoing) {
		this.conditionOngoing = conditionOngoing;
	}
	private static final Logger log = Logger.getLogger(MissionWithBLOBs.class);
	/**
	 * Compile the script
	 *     
	 * @return void    
	 * @throws
	 */
	public void compile(){
		try {
			if(scriptStart == null)
				scriptStart = Util.getCompilabe().compile(conditionStart.replaceAll("&lt;br/&gt;", "<br/>") + SCRIPT_FUNCTIONS);
			if(scriptOngoing == null)
				scriptOngoing = Util.getCompilabe().compile(conditionOngoing.replaceAll("&lt;br/&gt;", "<br/>") + SCRIPT_FUNCTIONS);
			if(scriptEnd == null)
				scriptEnd = Util.getCompilabe().compile(conditionEnd.replaceAll("&lt;br/&gt;", "<br/>") + SCRIPT_FUNCTIONS);
			if(scriptCancel == null)
				scriptCancel = Util.getCompilabe().compile(getConditionCancel());
			
			conditionStart = null;
			conditionOngoing = null;
			conditionEnd = null;
		} catch (ScriptException e) {
			log.error("exception: compile mission "+this.getName()+":"+this.getId(), e);
		}
	}	

}